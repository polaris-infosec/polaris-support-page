"use strict";(self.webpackChunkpolaris_support=self.webpackChunkpolaris_support||[]).push([[7164],{3905:(t,n,e)=>{e.d(n,{Zo:()=>l,kt:()=>m});var c=e(7294);function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function r(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,c)}return e}function a(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?r(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function h(t,n){if(null==t)return{};var e,c,i=function(t,n){if(null==t)return{};var e,c,i={},r=Object.keys(t);for(c=0;c<r.length;c++)e=r[c],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(c=0;c<r.length;c++)e=r[c],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}var o=c.createContext({}),p=function(t){var n=c.useContext(o),e=n;return t&&(e="function"==typeof t?t(n):a(a({},n),t)),e},l=function(t){var n=p(t.components);return c.createElement(o.Provider,{value:n},t.children)},s="mdxType",g={inlineCode:"code",wrapper:function(t){var n=t.children;return c.createElement(c.Fragment,{},n)}},u=c.forwardRef((function(t,n){var e=t.components,i=t.mdxType,r=t.originalType,o=t.parentName,l=h(t,["components","mdxType","originalType","parentName"]),s=p(e),u=i,m=s["".concat(o,".").concat(u)]||s[u]||g[u]||r;return e?c.createElement(m,a(a({ref:n},l),{},{components:e})):c.createElement(m,a({ref:n},l))}));function m(t,n){var e=arguments,i=n&&n.mdxType;if("string"==typeof t||i){var r=e.length,a=new Array(r);a[0]=u;var h={};for(var o in n)hasOwnProperty.call(n,o)&&(h[o]=n[o]);h.originalType=t,h[s]="string"==typeof t?t:i,a[1]=h;for(var p=2;p<r;p++)a[p]=e[p];return c.createElement.apply(null,a)}return c.createElement.apply(null,e)}u.displayName="MDXCreateElement"},3035:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>g,frontMatter:()=>r,metadata:()=>h,toc:()=>p});var c=e(7462),i=(e(7294),e(3905));const r={},a="\u0110i\u1ec1u kho\u1ea3n an ninh n\u1ed9i dung (CSP)",h={unversionedId:"security-center/rules/csp",id:"security-center/rules/csp",title:"\u0110i\u1ec1u kho\u1ea3n an ninh n\u1ed9i dung (CSP)",description:"CSP l\xe0 g\xec?",source:"@site/docs/security-center/rules/csp.mdx",sourceDirName:"security-center/rules",slug:"/security-center/rules/csp",permalink:"/polaris-support-test-site/docs/security-center/rules/csp",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/security-center/rules/csp.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Quy t\u1eafc",permalink:"/polaris-support-test-site/docs/category/quy-t\u1eafc"},next:{title:"Quy t\u1eafc t\xf9y ch\u1ec9nh",permalink:"/polaris-support-test-site/docs/security-center/rules/custom-rules"}},o={},p=[{value:"CSP l\xe0 g\xec?",id:"csp-l\xe0-g\xec",level:2},{value:"CSP ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\xe0o?",id:"csp-ho\u1ea1t-\u0111\u1ed9ng-nh\u01b0-th\u1ebf-n\xe0o",level:2},{value:"Tri\u1ec3n khai CSP v\u1edbi Polaris",id:"tri\u1ec3n-khai-csp-v\u1edbi-polaris",level:2},{value:"Ch\xednh s\xe1ch",id:"ch\xednh-s\xe1ch",level:2},{value:"B\xe1o c\xe1o",id:"b\xe1o-c\xe1o",level:2}],l={toc:p},s="wrapper";function g(t){let{components:n,...r}=t;return(0,i.kt)(s,(0,c.Z)({},l,r,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u0111i\u1ec1u-kho\u1ea3n-an-ninh-n\u1ed9i-dung-csp"},"\u0110i\u1ec1u kho\u1ea3n an ninh n\u1ed9i dung (CSP)"),(0,i.kt)("h2",{id:"csp-l\xe0-g\xec"},"CSP l\xe0 g\xec?"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u0110i\u1ec1u kho\u1ea3n an ninh n\u1ed9i dung CSP")," l\xe0 m\u1ed9t c\u01a1 ch\u1ebf tr\xecnh duy\u1ec7t c\xf3 th\u1ec3 gi\xfap ng\u0103n ch\u1eb7n m\u1ed9t s\u1ed1 lo\u1ea1i t\u1ea5n c\xf4ng\ncross-site scripting (XSS), clickjacking v\xe0 c\xe1c t\u1ea5n c\xf4ng injection m\xe3 \u0111\u1ed9c kh\xe1c c\xf3 k\u1ebft qu\u1ea3 t\u1eeb vi\u1ec7c th\u1ef1c thi n\u1ed9i dung \u0111\u1ed9c\nh\u1ea1i trong ng\u1eef c\u1ea3nh trang web \u0111\u01b0\u1ee3c tin t\u01b0\u1edfng. N\xf3 ho\u1ea1t \u0111\u1ed9ng b\u1eb1ng c\xe1ch h\u1ea1n ch\u1ebf c\xe1c t\xe0i nguy\xean (nh\u01b0 k\u1ecbch b\u1ea3n v\xe0 h\xecnh \u1ea3nh)\nm\xe0 m\u1ed9t trang c\xf3 th\u1ec3 t\u1ea3i v\xe0 h\u1ea1n ch\u1ebf li\u1ec7u m\u1ed9t trang c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c t\u1ea1o ra b\u1edfi c\xe1c trang kh\xe1c. CSP \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi t\u1ea5t c\u1ea3 c\xe1c\ntr\xecnh duy\u1ec7t hi\u1ec7n \u0111\u1ea1i ph\u1ed5 bi\u1ebfn."),(0,i.kt)("p",null,"M\u1eb7c d\xf9 m\u1ed9t CSP m\u1ea1nh c\xf3 th\u1ec3 cung c\u1ea5p m\u1ed9t l\u1edbp b\u1ea3o v\u1ec7 th\u1ee9 hai hi\u1ec7u qu\u1ea3 \u0111\u1ed1i v\u1edbi c\xe1c lo\u1ea1i t\u1ea5n c\xf4ng kh\xe1c nhau, nh\u01b0ng n\xf3 kh\xf4ng\n\u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf nh\u01b0 m\u1ed9t h\xe0ng r\xe0o b\u1ea3o v\u1ec7 \u0111\u1ea7u ti\xean ch\u1ed1ng l\u1ea1i c\xe1c l\u1ed7 h\u1ed5ng ti\xeam n\u1ed9i dung. CSP \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng t\u1ed1t nh\u1ea5t nh\u01b0 m\u1ed9t\nph\xf2ng th\u1ee7 ch\u1ed1ng l\u1ea1i \u0111a t\u1ea7ng. N\xf3 gi\u1ea3m thi\u1ec3u nh\u1eefng thi\u1ec7t h\u1ea1i m\xe0 m\u1ed9t ti\xeam nhi\u1ec5m \u0111\u1ed9c h\u1ea1i c\xf3 th\u1ec3 g\xe2y ra, nh\u01b0ng n\xf3 kh\xf4ng thay\nth\u1ebf cho vi\u1ec7c ki\u1ec3m tra c\u1ea9n th\u1eadn \u0111\u1ea7u v\xe0o v\xe0 m\xe3 h\xf3a \u0111\u1ea7u ra."),(0,i.kt)("h2",{id:"csp-ho\u1ea1t-\u0111\u1ed9ng-nh\u01b0-th\u1ebf-n\xe0o"},"CSP ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\xe0o?"),(0,i.kt)("p",null,"CSP c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c tri\u1ec3n khai theo nhi\u1ec1u c\xe1ch kh\xe1c nhau. C\xe1ch ti\u1ebfp c\u1eadn \u0111\u01b0\u1ee3c \u01b0a th\xedch nh\u1ea5t l\xe0 s\u1eed d\u1ee5ng tr\u01b0\u1eddng ti\xeau \u0111\u1ec1 ph\u1ea3n\nh\u1ed3i HTTP Content-Security-Policy ho\u1eb7c Content-Security-Policy-Report-Only. Tr\xecnh duy\u1ec7t s\u1eed d\u1ee5ng c\xe1c quy t\u1eafc \u0111\u01b0\u1ee3c x\xe1c \u0111\u1ecbnh\ntrong c\xe1c ti\xeau \u0111\u1ec1 n\xe0y \u0111\u1ec3 \u0111i\u1ec1u khi\u1ec3n c\xe1c t\xe0i nguy\xean m\xe0 tr\xecnh duy\u1ec7t \u0111\u01b0\u1ee3c ph\xe9p t\u1ea3i cho m\u1ed9t trang c\u1ee5 th\u1ec3. M\u1ed9t gi\u1ea3i th\xedch\nchi ti\u1ebft v\u1ec1 CSP c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c t\xecm th\u1ea5y ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy"},"\u1edf \u0111\xe2y"),"."),(0,i.kt)("h2",{id:"tri\u1ec3n-khai-csp-v\u1edbi-polaris"},"Tri\u1ec3n khai CSP v\u1edbi Polaris"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Setting Tab",src:e(1242).Z,width:"497",height:"361"})),(0,i.kt)("p",null,"D\u01b0\u1edbi ",(0,i.kt)("inlineCode",{parentName:"p"},"SITES"),", h\xe3y ch\u1ecdn t\xean mi\u1ec1n c\u1ee7a b\u1ea1n v\xe0 nh\u1ea5p v\xe0o ",(0,i.kt)("inlineCode",{parentName:"p"},"Settings"),"."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"CSP Tab",src:e(3841).Z,width:"975",height:"475"}),"\nB\u1ea5m v\xe0o '",(0,i.kt)("strong",{parentName:"p"},"CSP"),"' \u0111\u1ec3 c\u1ea5u h\xecnh n\xf3."),(0,i.kt)("h2",{id:"ch\xednh-s\xe1ch"},"Ch\xednh s\xe1ch"),(0,i.kt)("p",null,"Trong tab ",(0,i.kt)("strong",{parentName:"p"},"Ch\xednh s\xe1ch"),", b\u1ea1n c\xf3 th\u1ec3 c\u1ea5u h\xecnh c\xe1c thi\u1ebft l\u1eadp CSP cho trang web c\u1ee7a m\xecnh."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"CSP Policies Tab",src:e(9748).Z,width:"975",height:"669"}),"\nTrang CSP Policies"),(0,i.kt)("p",null,"Trang n\xe0y c\xf3 hai c\xe0i \u0111\u1eb7t ch\xednh:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Blocking")," / ",(0,i.kt)("strong",{parentName:"p"},"Not Blocking"),": Ch\u1ecdn xem CSP c\xf3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng tr\xean trang web hay kh\xf4ng")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Reporting")," / ",(0,i.kt)("strong",{parentName:"p"},"Not Reporting"),": Ch\u1ecdn xem b\u1ea1n c\xf3 mu\u1ed1n l\u01b0u tr\u1eef b\xe1o c\xe1o v\u1ec1 c\xe1c m\u1ed1i \u0111e d\u1ecda \u0111\xe3 vi ph\u1ea1m CSP tr\xean trang web hay kh\xf4ng."),(0,i.kt)("p",{parentName:"li"},"B\u1ea1n c\xf3 th\u1ec3 ch\u1ecdn ",(0,i.kt)("strong",{parentName:"p"},"ch\u1ebf \u0111\u1ed9 ch\u1ec9 b\xe1o c\xe1o")," b\u1eb1ng c\xe1ch tri\u1ec3n khai CSP nh\u01b0ng kh\xf4ng \xe1p d\u1ee5ng n\xf3 (t\u1eaft ch\u1ebf \u0111\u1ed9 ch\u1eb7n v\xe0 b\u1eadt ch\u1ebf \u0111\u1ed9\nb\xe1o c\xe1o), \u0111i\u1ec1u n\xe0y s\u1ebd b\xe1o c\xe1o b\u1ea5t k\u1ef3 vi ph\u1ea1m n\xe0o v\u1edbi ch\xednh s\xe1ch trong tab 'B\xe1o c\xe1o' nh\u01b0ng kh\xf4ng th\u1ef1c s\u1ef1 \xe1p d\u1ee5ng v\xe0\nch\u1eb7n b\u1ea5t k\u1ef3 m\u1ed9t vi ph\u1ea1m n\xe0o."))),(0,i.kt)("p",null,"M\u1ed9t trong nh\u1eefng l\xfd do th\u1ef1c hi\u1ec7n \u0111i\u1ec1u n\xe0y l\xe0 \u0111\u1ec3 b\u1ea1n c\xf3 th\u1ec3 th\u1eed nghi\u1ec7m, quan s\xe1t v\xe0 gi\xe1m s\xe1t CSP v\xe0 t\u1ea1o ra m\u1ed9t CSP t\u1ed1t\nh\u01a1n b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng c\xe1c b\xe1o c\xe1o \u0111\u01b0\u1ee3c t\u1ea1o ra. Chi ti\u1ebft h\u01a1n v\u1ec1 c\xe1c b\xe1o c\xe1o \u0111\u01b0\u1ee3c bao ph\u1ee7 b\xean d\u01b0\u1edbi."),(0,i.kt)("p",null,"C\xf3 c\xe1c c\xe0i \u0111\u1eb7t script inline b\u1ed5 sung \u0111\u1ec3 c\u1ea5u h\xecnh b\u1ea3o v\u1ec7 CSP ch\u1ed1ng l\u1ea1i c\xe1c cu\u1ed9c t\u1ea5n c\xf4ng XSS:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Allow unsafe inline scripts"),": Cho ph\xe9p trang web bao g\u1ed3m c\xe1c th\u1ebb script t\xf9y \xfd"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Allow eval() in script tags"),": Cho ph\xe9p c\xe1c script trong trang web th\u1ef1c thi m\xe3 b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ch\u1ee9c n\u0103ng eval()"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Allow unsafe inline style definitions"),": Cho ph\xe9p trang web bao g\u1ed3m c\xe1c th\u1ebb ki\u1ec3u t\xf9y \xfd.")),(0,i.kt)("p",null,"B\u1ea1n c\u0169ng c\xf3 th\u1ec3 t\u1ea1o c\xe1c ch\u1ec9 th\u1ecb t\xf9y ch\u1ec9nh \u0111\u1ec3 cho ph\xe9p trang c\u1ee7a b\u1ea1n t\u1ea3i t\xe0i nguy\xean t\u1eeb c\xe1c mi\u1ec1n b\xean th\u1ee9 ba."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"CSP Directives",src:e(6478).Z,width:"975",height:"316"})),(0,i.kt)("p",null,"D\u01b0\u1edbi \u0111\xf3 c\u0169ng c\xf3 m\u1ed9t ph\u1ea7n cho ph\xe9p b\u1ea1n xem x\xe9t c\xe1c ti\xeau \u0111\u1ec1 \u0111\xe3 \u0111\u01b0\u1ee3c c\u1ea5u h\xecnh, c\u0169ng nh\u01b0 m\u1ee9c \u0111\u1ed9 b\u1ea3o m\u1eadt c\u1ee7a m\u1ed9t s\u1ed1 th\xe0nh\nph\u1ea7n \u0111\u1ed1i v\u1edbi c\xe1c cu\u1ed9c t\u1ea5n c\xf4ng XSS:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"CSP Preview",src:e(4682).Z,width:"975",height:"535"})),(0,i.kt)("h2",{id:"b\xe1o-c\xe1o"},"B\xe1o c\xe1o"),(0,i.kt)("p",null,"Trang b\xe1o c\xe1o ch\u1ee9a c\xe1c b\u1ea3n ghi v\u1ec1 t\u1ea5t c\u1ea3 c\xe1c ho\u1ea1t \u0111\u1ed9ng b\u1ecb ch\u1eb7n b\u1edfi c\xe1c quy t\u1eafc CSP. L\u01b0u \xfd r\u1eb1ng \u0111\u1ec3 t\u1ea1o b\xe1o c\xe1o, 'B\xe1o c\xe1o'\nph\u1ea3i \u0111\u01b0\u1ee3c b\u1eadt trong C\xe0i \u0111\u1eb7t n\xe2ng cao c\u1ee7a CSP."),(0,i.kt)("p",null,"D\u01b0\u1edbi \u0111\xe2y l\xe0 v\xed d\u1ee5 v\u1ec1 c\xe1ch trang 'B\xe1o c\xe1o' c\xf3 th\u1ec3 nh\xecn nh\u01b0 th\u1ebf n\xe0o khi ch\u1ee9c n\u0103ng n\xe0y \u0111\u01b0\u1ee3c b\u1eadt:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"CSP Report Tab",src:e(1441).Z,width:"1212",height:"734"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Version"),": S\u1ed1 phi\xean b\u1ea3n c\u1ee7a CSP. N\xf3 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c t\xecm th\u1ea5y trong b\u1ea3n xem tr\u01b0\u1edbc d\u01b0\u1edbi ch\u1ee9c n\u0103ng 'Ch\xednh s\xe1ch'.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Directive"),": Ch\u1ec9 th\u1ecb g\xe2y ra vi ph\u1ea1m.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Last Time"),": Ng\xe0y v\xe0 gi\u1edd ghi nh\u1eadn cu\u1ed1i c\xf9ng c\u1ee7a vi ph\u1ea1m.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Count"),": S\u1ed1 l\u1ea7n ghi nh\u1eadn vi ph\u1ea1m.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Blocked URI"),": URI c\u1ee7a t\xe0i nguy\xean \u0111\xe3 b\u1ecb ch\u1eb7n kh\u1ecfi vi\u1ec7c t\u1ea3i b\u1edfi CSP."),(0,i.kt)("p",{parentName:"li"},"Ngo\xe0i c\xe1c chi ti\u1ebft hi\u1ec3n th\u1ecb v\u1ec1 CSP b\u1ecb vi ph\u1ea1m, c\xf2n c\xf3 2 l\u1ef1a ch\u1ecdn h\xe0nh \u0111\u1ed9ng:")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Allow"),": Quy t\u1eafc b\u1ecb ch\u1eb7n s\u1ebd \u0111\u01b0\u1ee3c th\xeam v\xe0o ti\xeau \u0111\u1ec1 CSP.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Ignore"),": X\xf3a kh\u1ecfi danh s\xe1ch."))))}g.isMDXComponent=!0},1242:(t,n,e)=>{e.d(n,{Z:()=>c});const c=e.p+"assets/images/settings-tab-8c663242d837cb0d04edb6f428ed0a8f.png"},6478:(t,n,e)=>{e.d(n,{Z:()=>c});const c=e.p+"assets/images/csp-directives-f73532fbf89f78832849fcf62f06b37a.png"},9748:(t,n,e)=>{e.d(n,{Z:()=>c});const c=e.p+"assets/images/csp-policies-tab-ba7d2dc7dd0975c43425d1bf877eae24.png"},4682:(t,n,e)=>{e.d(n,{Z:()=>c});const c=e.p+"assets/images/csp-preview-b1851618c867fbf1d43db80efe58f950.png"},1441:(t,n,e)=>{e.d(n,{Z:()=>c});const c=e.p+"assets/images/csp-report-tab-302f45a1142aa7184b2d2a5fd254d6cc.png"},3841:(t,n,e)=>{e.d(n,{Z:()=>c});const c=e.p+"assets/images/csp-tab-46195c0e691e735f76a4a2b0cbb369ac.png"}}]);